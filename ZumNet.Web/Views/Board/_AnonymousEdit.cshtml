@using Newtonsoft.Json;
@using ZumNet.Framework.Util;

@{
    bool bPrevEditorBody = false;
    string sPopup = " disabled";
    string sTopLine = " disabled";
    string sPriority = " disabled";

}
@if (ViewBag.R.current["operator"].ToString() == "N" && !ZumNet.Framework.Util.StringHelper.HasAcl(ViewBag.R.current["appacl"].ToString(), "E"))
{
    @Html.Partial("~/Views/Shared/_NoPermission.cshtml")
}
else
{
    <!-- Header -->
    <div class="flex-grow-0">
        <div class="zf-menu d-flex justify-content-between container-p-x m-0 @(ViewBag.R.wnd.ToString() == "" ? "mt-1 pt-3" : "py-2")" style="@(ViewBag.R.wnd.ToString() == "" ? "padding-bottom: .65rem !important" : "")">
            <div class="d-flex align-items-center font-weight-bold">
                @if (ViewBag.R.wnd.ToString() == "")
                {
                    <div class="h5 mb-0">
                        <a href="javascript:void(0)" class="messages-sidebox-toggler d-none d-md-block d-lg-none align-self-center px-2 mr-3" data-toggle="modal" data-target=".messages-sidebox"><i class="fe-more-vertical"></i></a>
                    </div>
                }

                <div class="btn-group">
                    <button class="btn btn-default font-weight-bold" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.Register" onclick="_zw.mu.registerMsg();"><i class="fas fa-arrow-right text-primary"></i><span class="d-none d-sm-inline-block ml-1">@Resources.Global.Register</span></button>
                    <button class="btn btn-default font-weight-bold" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.Preview" onclick="_zw.mu.previewMsg();"><i class="fe-printer"></i><span class="d-none d-sm-inline-block ml-1">@Resources.Global.Preview</span></button>
                    @*<button class="btn btn-default font-weight-bold" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.TempSave" onclick="_zw.mu.saveMsg();"><i class="fe-save"></i><span class="d-none d-sm-inline-block ml-1">@Resources.Global.TempSave</span></button>*@
                </div>
            </div>
            <div>
                <div class="btn-group">
                    <button class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.EditorExpand" data-zf-menu="toggleEditor" aria-expanded="false"><i class="fe-arrow-up"></i></button>
                    <button class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.Cancel" onclick="_zw.mu.cancelMsg();"><i class="fe-log-out"></i></button>
                </div>
            </div>
        </div>
    </div>
    <!-- / Header -->

    <div class="flex-grow-1@(ViewBag.R.wnd.ToString() == "" ? " position-relative" : "")" style="border-top: 2px solid #eee">
        <div class="z-list-scroll" style="@(ViewBag.R.wnd.ToString() == "" ? "" : "top: 48px")">
            <div class="">
                <div class="d-none align-items-center container-p-x mt-2">
                    <div class="custom-control custom-checkbox custom-control-inline mb-0 mr-2 mr-sm-3">
                        <input type="checkbox" id="ckbPriority" class="custom-control-input" @sPriority @(ViewBag.R.app["priority"].ToString() == "Y" ? " checked" : "")>
                        <label class="custom-control-label" for="ckbPriority">@Resources.Global.Important</label>
                    </div>
                    <div class="custom-control custom-checkbox custom-control-inline mb-0 mr-2 mr-sm-3">
                        <input type="checkbox" id="ckbTopLine" class="custom-control-input" @sTopLine @(ViewBag.R.app["topline"].ToString() == "Y" ? " checked" : "")>
                        <label class="custom-control-label" for="ckbTopLine">TOPLINE</label>
                    </div>
                    <div class="custom-control custom-checkbox custom-control-inline mb-0 mr-2 mr-sm-3">
                        <input type="checkbox" id="ckbUsePopup" class="custom-control-input" @sPopup>
                        <label class="custom-control-label" for="ckbUsePopup">@Resources.Global.Popup</label>
                    </div>
                    <div class="custom-control-inline mr-0">
                        <div class="col-form-label d-none d-sm-block">팝업종료일</div>
                        <div class="ml-2">
                            <input type="text" id="txtPopDate" class="datepicker form-control" placeholder="팝업종료일" style="width: 110px" disabled data-inputmask="date;yyyy-MM-dd" />
                        </div>
                    </div>
                </div>

                <div class="container-p-x mt-2">
                    <div class="form-group row mb-1">
                        <div class="col-form-label col-sm-2">
                            <span>@Resources.Global.Posting @Resources.Global.Classification</span>
                            <button class="zf-btn-sm btn btn-default float-right" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.Select" data-zf-menu="openClassWnd" disabled><i class="fe-search"></i></button>
                        </div>
                        <div class="col-sm-10">
                            <input type="text" data-for="SelectedFolderPath" class="form-control" placeholder="@Resources.Global.Posting @Resources.Global.Classification" readonly value="@(ViewBag.SiteMap != null && ViewBag.SiteMap.ToString() != "" ? ViewBag.R.ttl : "")">
                            <input type="hidden" data-for="SelectedFolder" value="@ViewBag.R.fdid" />
                            <input type="hidden" data-for="SelectedXFAlias" value="@ViewBag.R.xfalias" />
                        </div>
                    </div>

                    <div class="form-group row mb-1">
                        <div class="col-form-label col-sm-2">@Resources.Global.Subject</div>
                        <div class="col-sm-10">
                            <input type="text" id="txtSubject" class="form-control" placeholder="@Resources.Global.Subject" value="@ViewBag.R.app["subject"]">
                        </div>
                    </div>

                    <div class="form-inline row mb-1">
                        <div class="col-form-label col-sm-2">@Resources.Global.Writer</div>
                        <div class="col-sm-10">
                            <input type="text" id="txtCreator" class="form-control" placeholder="@Resources.Global.Name" value="@ViewBag.R.app["creur"]" />
                        </div>
                    </div>

                    <div class="form-inline row mb-1">
                        <div class="col-form-label col-sm-2">@Resources.Global.Password</div>
                        <div class="col-sm-10 form-inline">
                            <div class="input-group mr-sm-2 mb-1 mb-sm-0">
                                <input type="password" id="txtPassword" class="form-control" maxlength="10" placeholder="@Resources.Global.Password" autocomplete="new-password" value="" />
                                <div class="input-group-append" data-password="false">
                                    <span class="input-group-text fas fa-eye password-eye bg-light"></span>
                                </div>
                            </div>
                            <div class="input-group">
                                <input type="password" id="txtPasswordConfirm" class="form-control" maxlength="10" placeholder="@Resources.Global.Password_Confirm" autocomplete="new-password" />
                                <div class="input-group-append" data-password="false">
                                    <span class="input-group-text fas fa-eye password-eye bg-light"></span>
                                </div>
                            </div>
                            <input type="hidden" id="txtPrevPassword" value="@ViewBag.R.lv["cd2"]" />
                        </div>
                    </div>

                    <div class="form-group row mb-0">
                        <div class="col-form-label col-sm-2">
                            <span>@Resources.Global.AttachFile</span>
                            @*<button class="zf-btn-sm btn btn-default float-right" data-toggle="tooltip" data-placement="bottom" title="@Resources.Global.UploaderFold" data-zf-menu="toggleUploader" aria-expanded="false"><i class="fe-chevron-up"></i></button>*@
                        </div>
                        <div class="col-sm-10">
                            @*<div class="pt-1 pb-2">
                    <button class="btn btn-sm btn-default" value="파일추가" onclick="_zw.dext5.openFileDialog()">파일추가</button>
                    <button class="btn btn-sm btn-default" value="전송하기" onclick="_zw.dext5.transferFile()">전송하기</button>&nbsp;
                    <button class="btn btn-sm btn-default" value="전체삭제" onclick="_zw.dext5.deleteAllFile()">전체삭제</button>&nbsp;
                    <button class="btn btn-sm btn-default" value="항목삭제" onclick="_zw.dext5.deleteSelectedFile()">항목삭제</button>
                </div>*@
                            <div class="zf-uploader" id="__DextUpload"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-p-x py-2 zf-editor position-absolute" id="__DextEditor" style="top: ; bottom: 0; left: 0; right: 0; min-height: 50%"></div>

            @*<div class="container-p-x py-3" id="__DextUpload"></div>*@

        </div>
    </div>
}